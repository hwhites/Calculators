---
// src/pages/quadratic-solver.astro
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Quadratic Equation Solver | CourseAssist">
  <div class="max-w-xl mx-auto">
    <!-- Page Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-800">Quadratic Equation Solver</h1>
      <p class="mt-2 text-lg text-gray-600">Solves equations in the form ax² + bx + c = 0</p>
    </div>

    <!-- Calculator Card -->
    <div class="bg-white p-8 rounded-xl border border-gray-200 shadow-md">
      
      <!-- Input Grid -->
      <div class="flex items-center justify-center space-x-2">
        <input type="number" id="a" class="calc-input w-24 p-3 border border-gray-300 rounded-lg text-xl text-center" placeholder="a">
        <label for="a" class="text-xl font-bold">x² +</label>
        
        <input type="number" id="b" class="calc-input w-24 p-3 border border-gray-300 rounded-lg text-xl text-center" placeholder="b">
        <label for="b" class="text-xl font-bold">x +</label>
        
        <input type="number" id="c" class="calc-input w-24 p-3 border border-gray-300 rounded-lg text-xl text-center" placeholder="c">
        <label for="c" class="text-xl font-bold">= 0</label>
      </div>

      <!-- Results Display -->
      <div class="mt-8 border-t border-gray-200 pt-6 text-center">
        <h2 class="text-lg font-bold text-gray-800">Result (x):</h2>
        <p id="result-display" class="text-4xl font-extrabold text-blue-600 my-2">--</p>
      </div>
    </div>
  </div>

  <script>
    // --- DOM Elements ---
    const aInput = document.getElementById('a');
    const bInput = document.getElementById('b');
    const cInput = document.getElementById('c');
    const resultDisplay = document.getElementById('result-display');
    const allInputs = [aInput, bInput, cInput];

    // --- Calculation Logic ---
    function solveQuadratic() {
      const a = parseFloat(aInput.value);
      const b = parseFloat(bInput.value);
      const c = parseFloat(cInput.value);

      if (isNaN(a) || isNaN(b) || isNaN(c) || a === 0) {
        resultDisplay.textContent = '--';
        return;
      }
      
      const discriminant = (b * b) - (4 * a * c);
      
      let resultString;

      if (discriminant > 0) {
        const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
        const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);
        resultString = `x = ${x1.toFixed(4)} or x = ${x2.toFixed(4)}`;
      } else if (discriminant === 0) {
        const x = -b / (2 * a);
        resultString = `x = ${x.toFixed(4)}`;
      } else {
        resultString = "No real roots";
      }

      resultDisplay.textContent = resultString;
    }

    // --- Event Listeners ---
    allInputs.forEach(input => input.addEventListener('input', solveQuadratic));
  </script>
</Layout>
